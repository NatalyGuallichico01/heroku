var updateTimePicker;$("#hora").timepicker({timeFormat:"H:i",minTime:"09:00am",maxTime:"06:00pm",step:60,disableTimeRanges:[]}),$((function(e){updateTimePicker=function(t){e("#hora").timepicker({timeFormat:"H:i",minTime:"09:00am",maxTime:"06:00pm",step:60,disableTimeRanges:t})}}));const getBlockedHoursByDate=async(e,t)=>{const a=new FormData;a.append("date",e);const i={method:"POST",body:a},m=await fetch("api/citas/horasBloqueadas",i);return await m.json()};async function blockTimes(e){var t=e.srcElement.value.split("-");if(t.length>1){let e=t[0]+"-"+t[1]+"-"+t[2];const a=await getBlockedHoursByDate(e);if(a.length>0){let e=a.map(e=>{let t=e.hora.slice(0,2),a=e.hora.slice(3,5),i=[t+":"+a,parseInt(t)+1+":"+a];return console.log("range",i),i});updateTimePicker(e)}}}document.getElementById("fecha").addEventListener("blur",blockTimes);